<%- include('partials/header') %>

<%- include('partials/nav-panel') %>

<div id="main" class="main">
    <div class="page-title">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">
            <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1ZM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z"/>
            <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V1Zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3V1Z"/>
        </svg>
        Warehousing
    </div>
    <div class="big-button-frame">
        <div class="flex-container flex-row flex-evenly flex-wrap">
            <div class="big-button" onclick="openModal('item--inquiry-modal')">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
                Item Inquiry
            </div>
            <div class="big-button" onclick="openModal('add-item-modal')">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z"/>
                </svg>
                Create Item
            </div>
        </div>
    </div>
</div>
<div id="add-item-modal" class="modal-frame">
    <form action="/inventory/add-item" method="post" autocomplete="off">
        <div class="modal-header">
            <h3>Create Item</h3>
            <div class="close-button" onclick="closeModal('add-item-modal')">
                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </div>
        </div>
        <div class="modal-body">
            <div class="flex-container flex-row flex-start gap-25">
                <div class="input-lg">
                    <label for="itemId" class="form-label">Item Id:</label>
                    <input class="form-control" type="text" id="itemId" name="itemId" required>  
                </div>
                <div class="input-xl">
                    <label for="itemDescription" class="form-label">Item Description:</label>
                    <input class="form-control" type="text" id="itemDescription" name="itemDescription" required>  
                </div>
            </div>
            <div class="flex-container flex-row flex-start gap-25">
                <div class="input-sm">
                    <label for="reOrderPoint" class="form-label">Re Order Point:</label>
                    <input type="text" class="form-control" name="reOrderPoint" value="<%=  %>" required>
                </div>
                <div class="input-sm">
                    <label for="sellPrice" class="form-label">Sell Price:</label>
                    <input type="text" class="form-control" name="sellPrice" value="<%=  %>" required>
                </div>
                <div class="input-xs">
                    <label for="uom" class="form-label">UOM:</label>
                    <select class="form-select" name="uom" id="" required>
                        <option value="ea">ea</option>
                        <option value="cubic inch">Cubic Inch</option>
                    </select>  
                </div>
            </div> 
            <div class="flex-container flex-row flex-start gap-25">
                <div>
                    <label for="itemNotes" class="form-label">Notes:</label>
                    <textarea name="itemNotes" id="itemNotes" rows="5" cols="200" class="form-control"></textarea>
                </div>
            </div>
            <div class="modal-button-group">
                <button type="submit" class="modal-button">Submit</button>
                <div onclick="closeModal('add-item-modal')" class="modal-button">Cancel</div>
            </div>
        </div>
    </form> 
</div>
<div id="item--inquiry-modal" class="modal-frame">
    <div class="modal-header">
        <h3>Item Lookup</h3>
        <div class="close-button" onclick="closeModal('item--inquiry-modal')">
            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
            </svg>
        </div>
    </div>
    <div class="modal-body">
        <div class="v-scroll">
            <table class="table table-secondary table-striped table-hover table-bordered">
                <thead>
                    <tr class="align-center">
                        <th scope="col" class="table-column-small">#</th>
                        <th scope="col" class="table-column-lg">Item Id</th>
                        <th scope="col" >Item Description</th>
                        <th scope="col">On Hand</th>
                        <th scope="col">Order Point</th>
                        <th scope="col">Sell Price</th>
                        <th scope="col">UOM</th>
                        <th scope="col" class=""></th>
                    </tr>
                </thead>
                <tbody>
                    <% items.forEach((item, index) => { %>
                    <tr class="proper-case">
                        <td><%= index + 1 %></td>
                        <td class="no-overflow"><%= item.itemId %></td>
                        <td class="table-column-lg no-overflow"><%= item.itemDescription %></td>
                        <td class="align-right"><%= item.onHand %></td>
                        <td class="align-right"><%= item.reOrderPoint %></td>
                        <td class="align-right">$<%= item.sellPrice %></td>
                        <td class="table-column-lg no-overflow"><%= item.unitOfMeasure %></td>
                        <td class="table-column-md">
                            <a href="/inventory/view-item-id=<%= item._id %>" class="table-delete-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                </svg>
                            </a>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
        <div class="search-params">
            <form action="/inventory/search-itemId" method="POST" autocomplete="off">
                <div class="search-params-column">
                    <h3>Product ID:</h3>
                </div>
                <div class="search-params-column">                        
                    <div class="flex-container flex-row flex-start gap-25">
                        <div class="input-xl">
                            <input type="text" class="form-control" name="searchId">
                        </div>
                        <button class="modal-button">Search</button>
                    </div>
                    <div>
                    </div>
                </div>
            </form>
        </div>
        <div class="search-params">
            <form action="/inventory/search-itemDescription" method="POST" autocomplete="off">
                <div class="search-params-column">
                    <h3>Description:</h3>
                </div>
                <div class="search-params-column">                        
                    <div class="flex-container flex-row flex-start gap-25">
                        <div class="input-xl">
                            <input type="text" class="form-control" name="searchId">
                        </div>
                        <button class="modal-button">Search</button>
                    </div>
                    <div>
                    </div>
                </div>
            </form>
        </div>
        <div class="search-params">
            <form action="/inventory/search-vendor" method="POST" autocomplete="off">
                <div class="search-params-column">
                    <h3>Vendor:</h3>
                </div>
                <div class="search-params-column">                        
                    <div class="flex-container flex-row flex-start gap-25">
                        <div class="input-xl">
                            <select name="searchId" id="" class="form-select">
                                    <option value=""></option>
                                <% vendors.forEach((vendor) => { %>
                                    <option value="<%= vendor.company %>"><%= vendor.company %> - <%= vendor.city %>, <%= vendor.state %> </option>
                                <% }) %>
                            </select>
                        </div>
                        <button class="modal-button">Search</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<%- include('partials/footer') %>